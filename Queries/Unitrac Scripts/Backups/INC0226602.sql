USE UniTrac


SELECT * FROM dbo.WORK_ITEM
WHERE ID IN (30275493, 30229211)

SELECT * FROM dbo.PROCESS_LOG
WHERE ID  = '32047830'


SELECT RELATE_ID
INTO #tmp2 FROM dbo.PROCESS_LOG_ITEM
WHERE PROCESS_LOG_ID = '32047830'
AND RELATE_TYPE_CD = 'Allied.UniTrac.NoticeBatch'


SELECT RELATE_ID
INTO #tmpRC
 FROM dbo.PROCESS_LOG_ITEM
WHERE PROCESS_LOG_ID = '32047830' AND RELATE_TYPE_CD = 'Allied.UniTrac.RequiredCoverage'

SELECT * FROM dbo.BILLING_GROUP
WHERE ID = '1465604'


select pl.ID, PRINT_STATUS_CD,PRINTED_DT, *
from PROCESS_LOG pl
inner join process_log_item pli on pli.PROCESS_LOG_ID = pl.id and pli.relate_type_cd = 'allied.unitrac.notice'
inner join NOTICE N on N.id = pli.relate_id 
inner join LOAN L on L.ID = n.LOAN_ID
left outer join document_container dc on dc.relate_id = n.id and dc.relate_class_name_tx = 'allied.unitrac.notice' AND DC.PURGE_DT IS NULL	
WHERE N.ID IN (SELECT * FROM #tmp) AND NUMBER_TX IN ('%22036-80%', '14322-80', '217271-90')


SELECT OUTPUT_BATCH.EXTERNAL_ID,OUTPUT_BATCH_LOG.*
from OUTPUT_BATCH
INNER JOIN OUTPUT_BATCH_LOG ON OUTPUT_BATCH.ID = OUTPUT_BATCH_LOG.OUTPUT_BATCH_ID
WHERE OUTPUT_BATCH.PROCESS_LOG_ID = 32047830 AND LOG_TXN_TYPE_CD = 'SENT' 





SELECT * FROM LOAN L
INNER JOIN COLLATERAL C ON L.ID = C.LOAN_ID
INNER JOIN PROPERTY P ON C.PROPERTY_ID = P.ID
INNER JOIN REQUIRED_COVERAGE RC ON P.ID = RC.PROPERTY_ID
INNER JOIN OWNER_LOAN_RELATE OL ON L.ID = OL.LOAN_ID
INNER JOIN OWNER O ON OL.OWNER_ID = O.ID
INNER JOIN OWNER_ADDRESS OA ON O.ADDRESS_ID = OA.ID
INNER JOIN dbo.LENDER LL ON LL.ID = L.LENDER_ID
WHERE RC.ID IN (SELECT * FROM #tmpRC)