------------Hold ITEMS

-------Move to ADHOC

BEGIN TRAN


UPDATE  MESSAGE
SET     RECEIVED_STATUS_CD = 'ADHOC'
WHERE   ID IN


(4823870,
4823871,
4823872,
4823873,
4823874,
4823875,
4823876,
4823951,
4823952,
4823953,
4823954,
4823955,
4823956,
4823957,
4823958,
4823959)



(4823801,
4823802,
4823803,
4823804,
4823805,
4823806,
4823807,
4823808,
4823809)



 (4823560
,4823562,
4823563,
4823644,
4823716,
4823721,
4823722,
4823723,
4823724)


--ROLLBACK

--COMMIT

				
-------Placing messages on hold
UPDATE  dbo.MESSAGE
SET     PROCESSED_IN = 'N' ,
        RECEIVED_STATUS_CD = 'RCVD' ,
        LOCK_ID = LOCK_ID + 1 ,
        UPDATE_USER_TX = 'JC'
WHERE   ID IN ( 4823402, 4823403, 4823405, 4823459, 4823460, 4814654, 4814655,
                4823867, 4824066, 4824068, 4824069, 4824140, 4824153, 4824154,
                4824155, 4824159, 4824160, 4824161, 4824162, 4824157, 4824165,
                4824158, 4824382, 4824381, 4824383, 4824385, 4824390, 4824388,
                4824391, 4824393, 4824392, 4824394, 4824396, 4824380, 4824384,
                4824398, 4824397, 4824402, 4824487, 4824494, 4824493, 4824495,
                4824607, 4824608, 4824616, 4824612, 4824614, 4824615, 4824613,
                4824617, 4824618, 4824609, 4824726, 4824730, 4824731, 4824732,
                4824725, 4824727, 4824728, 4824814, 4824922, 4825005, 4825003,
                4825004, 4825006, 4825007, 4818887, 4818888, 4825097, 4825096,
                4825100, 4825101, 4825095, 4825098, 4825099, 4825177, 4825187,
                4825188, 4825192, 4825189, 4825193, 4825194, 4825281, 4825282,
                4825283, 4825280, 4825284, 4825285, 4825286, 4825287, 4825288,
                4825289, 4825290, 4825292, 4825291, 4825372, 4825389, 4824815,
                4825390, 4824816, 4825392, 4825391, 4825393, 4825394, 4825399,
                4825411, 4825507, 4825508, 4825505, 4825578, 4825666, 4825667,
                4825669, 4825668, 4825670, 4825671, 4825672, 4825746, 4825747,
                4825749, 4825748, 4825750, 4825798,
4825799) AND Id NOT IN (4825394,
4825399)


					SELECT * FROM dbo.MESSAGE
				WHERE  ID IN (4824496,
4824499,
4825394,
4825399) AND PROCESSED_IN = 'N'


----------Taking them off hold for USD
UPDATE dbo.MESSAGE
SET PROCESSED_IN = 'Y' , RECEIVED_STATUS_CD = 'RCVD' , LOCK_ID = LOCK_ID+1, UPDATE_USER_TX = 'MsgSrvrEXTINFO'
WHERE ID IN (4825394,
4825399)



------Taking them off hold for ADHOC
--UPDATE dbo.MESSAGE
--SET PROCESSED_IN = 'N' , 
--LOCK_ID = LOCK_ID+1, 
--RECEIVED_STATUS_CD = 'ADHOC' 
--WHERE ID IN (SELECT  ID
--FROM    dbo.MESSAGE
--WHERE     CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE) AND RECEIVED_STATUS_CD = 'ERR' AND UPDATE_USER_TX = 'MsgSrvrADHOC'
--)


--(4823807)

-------------Checking Statuses

SELECT * FROM dbo.MESSAGE M
WHERE M.UPDATE_USER_TX like 'JC%'

--SELECT * FROM dbo.MESSAGE
--WHERE ID IN (XXXXXXX ) 



--SELECT * FROM dbo.WORK_ITEM
--WHERE RELATE_ID IN (XXXXXXX)
--AND RELATE_TYPE_CD = 'LDHLib.Message'

--SELECT * FROM dbo.WORK_ITEM_ACTION
--WHERE ID IN (XXXXXXX)

--SELECT * FROM dbo.WORK_ITEM
--WHERE ID IN (XXXXXXX) 
--AND RELATE_TYPE_CD = 'LDHLib.Message'

--SELECT * FROM dbo.DOCUMENT
--			WHERE MESSAGE_ID IN (XXXXXXX)

--SELECT * FROM dbo.[TRANSACTION]
--			WHERE DOCUMENT_ID IN (XXXXXXX)


----Checking for Errors via Messages
SELECT * FROM dbo.MESSAGE M
WHERE   M.RECEIVED_STATUS_CD = 'ERR'
AND   CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE)
ORDER BY M.UPDATE_DT DESC


---Checking Errors Messages and WI
--SELECT * FROM dbo.WORK_ITEM  WHERE RELATE_TYPE_CD = 'LDHLib.Message' AND 
-- RELATE_ID IN (XXXXXXX) AND STATUS_CD  NOT LIKE 'Withdrawn'


-------Checking Message, Lender and Logs a few at a time
--SELECT  TP.EXTERNAL_ID_TX, TP.NAME_TX, TPL.LOG_MESSAGE, TPL.LOG_SEVERITY_CD, TPL.LOG_TYPE_CD, 
--TPL.CREATE_DT [TPL.CREATE_DT], M.*  FROM dbo.MESSAGE M
--INNER JOIN dbo.TRADING_PARTNER_LOG TPL ON M.ID = TPL.MESSAGE_ID
--INNER JOIN dbo.TRADING_PARTNER TP ON TPL.TRADING_PARTNER_ID = TP.ID
--WHERE M.ID IN ( XXXXXXX ) ----TP.EXTERNAL_ID_TX = 'XXXX' AND TPL.CREATE_DT > 'XXXX-XX-XX'
--ORDER BY TP.EXTERNAL_ID_TX, M.ID, TPL.CREATE_DT ASC


-------Checking Message, Lender and Logs with embedded daily error script as subquery
SELECT  TP.EXTERNAL_ID_TX, TP.NAME_TX, TPL.LOG_MESSAGE, TPL.LOG_SEVERITY_CD, TPL.LOG_TYPE_CD, 
TPL.CREATE_DT [TPL.CREATE_DT], M.*  FROM dbo.MESSAGE M
INNER JOIN dbo.TRADING_PARTNER_LOG TPL ON M.ID = TPL.MESSAGE_ID
INNER JOIN dbo.TRADING_PARTNER TP ON TPL.TRADING_PARTNER_ID = TP.ID
WHERE M.ID IN (SELECT M.ID FROM dbo.MESSAGE M
WHERE   M.RECEIVED_STATUS_CD = 'ERR'
AND   CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE)) AND LOG_SEVERITY_CD = 'high'
ORDER BY TP.EXTERNAL_ID_TX, M.ID, TPL.CREATE_DT ASC


--SELECT * FROM VUT..tblExtract_27013525



--------Purge Message
--UPDATE dbo.MESSAGE
--SET LOCK_ID = LOCK_ID+1, UPDATE_USER_TX = 'JC'
--WHERE ID IN (XXXXXXX)

--UPDATE dbo.[TRANSACTION]
--			SET PURGE_DT = GETDATE(), UPDATE_USER_TX = 'JC'
--			WHERE ID IN (XXXXXXX)




SELECT  ID
FROM    dbo.MESSAGE
WHERE     CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE) AND RECEIVED_STATUS_CD = 'ERR' AND UPDATE_USER_TX = 'MsgSrvrEXTINFO'


ID IN
(4823801,
4823802,
4823803,
4823804,
4823805,
4823806,
4823807,
4823808,
4823809)



 ( 4790663, 4790659, 4790655, 4790651, 4790647, 4790643, 4790641,
                4790635, 4790631, 4790629, 4790623, 4790619, 4790617, 4790613,
                4790601, 4790597, 4790593, 4790591, 4790583, 4790581, 4790575,
                4790571, 4790567, 4790565, 4790559, 4790555, 4790553, 4790547,
                4790545, 4790543, 4790541, 4790531, 4790529, 4790525, 4790521,
                4790519, 4790517, 4790515, 4790503, 4790501, 4790495, 4790491,
                4790489, 4790487, 4790485, 4790483, 4790471, 4790467, 4790465,
                4790463, 4790455, 4790453, 4790447, 4790443, 4790441, 4790435,
                4790433, 4790431, 4790423, 4790421, 4790415, 4790413, 4790411,
                4790403, 4790401, 4790395, 4790393, 4790391, 4790383, 4790381,
                4790379, 4790371, 4790367, 4790365, 4790363, 4790361, 4790359,
                4790347, 4790343, 4790339, 4790337, 4790335, 4790333, 4790325,
                4790323, 4790321, 4790319, 4790317, 4790315, 4790305, 4790303,
                4790295, 4790287, 4790285, 4790281, 4790279, 4790277, 4790267,
                4790263, 4790259, 4790257, 4790255, 4790249, 4790245, 4790239,
                4790237, 4790231, 4790227, 4790225, 4790219, 4790215, 4790213,
                4790211, 4790209, 4790199, 4790197, 4790191, 4790189, 4790187,
                4790185, 4790175, 4790171, 4790167, 4790165, 4790163, 4790157,
                4790153, 4790147, 4790145, 4790139, 4790135, 4790133, 4790127,
                4790125, 4790123, 4790117, 4790115, 4790111, 4790103, 4790101,
                4790099, 4790091, 4790089, 4790087, 4790085, 4790083, 4790071,
                4790069, 4790067, 4790065, 4790057, 4790051, 4790047, 4790043,
                4790039, 4790037, 4790035, 4790027, 4790025, 4790019, 4790015,
                4790013, 4790007, 4790003, 4789999, 4789995, 4789993, 4789991,
                4789989, 4789979, 4789975, 4789973, 4789971, 4789969, 4789959,
                4789955, 4789953, 4789951, 4789943, 4789941, 4789935, 4789933,
                4789931, 4789923, 4789921, 4789915, 4789913, 4789907, 4789905,
                4789899, 4789897, 4789895, 4789893, 4789883, 4789881, 4789879,
                4789871, 4789869, 4789862, 4789858, 4789856, 4789854, 4789846,
                4789844, 4789842, 4789834, 4789832, 4789826, 4789824, 4789818,
                4789814, 4789810, 4789808, 4789802, 4789798, 4789796, 4789790,
                4789788, 4789786, 4789778, 4789776, 4789774, 4789766, 4789762,
                4789760, 4789758, 4789756, 4789754, 4789742, 4789740, 4789734,
                4789730, 4789728, 4789726, 4789718, 4789716, 4789714, 4789706,
                4789704, 4789702, 4789694, 4789692, 4789690, 4789682, 4789678,
                4789674
				)


				
				SELECT * FROM dbo.OWNER_POLICY
				WHERE id = '107575850'


				SELECT * FROM dbo.LOAN
				WHERE ID IN (31328504)

				SELECT * FROM dbo.UTL_MATCH_RESULT
				WHERE LOAN_ID = '134233723'

				SELECT * FROM dbo.LENDER
				WHERE ID IN (80)
	SELECT TOP 5 * FROM dbo.UTL_QUEUE
				--WHERE LOAN_ID = '131311398'


				WHERE     CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE) AND RECORD_TYPE_CD = 'U'
			

				SELECT * FROM dbo.PROPERTY
				WHERE ID IN (13658314)


				SELECT * FROM dbo.LOAN
				WHERE ID IN (134233723)
				\

				


			SELECT * FROM dbo.PROCESS_DEFINITION
			WHERE ID = '199525'