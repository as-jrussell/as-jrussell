USE UniTrac


SELECT * FROM dbo.PROCESS_DEFINITION
WHERE PROCESS_TYPE_CD = 'UTLMTCHIB' AND 
 ID IN (55890)

SELECT * FROM dbo.PROCESS_LOG
WHERE PROCESS_DEFINITION_ID = '55890'
AND CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE) AND ID = '33013909'
ORDER BY UPDATE_DT DESC



SELECT * FROM dbo.PROCESS_LOG_ITEM
WHERE PROCESS_LOG_ID = '33013909'


SELECT * FROM dbo.PROCESS_DEFINITION
WHERE PROCESS_TYPE_CD LIKE 'UTL%'


SELECT * FROM dbo.PROCESS_LOG
WHERE PROCESS_DEFINITION_ID = '266'
AND CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE)

SELECT * FROM dbo.PROCESS_LOG_ITEM
WHERE PROCESS_LOG_ID = '33013683'


SELECT * FROM dbo.USERS U
INNER JOIN dbo.USER_SECURITY_GROUP_RELATE USG ON USG.USER_ID = U.ID
INNER JOIN dbo.SECURITY_GROUP SG ON SG.ID = USG.SEC_GRP_ID
WHERE USER_NAME_TX IN (
SELECT DISTINCT UPDATE_USER_TX FROM dbo.REPORT_HISTORY
WHERE STATUS_CD = 'IGN'
AND CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE))
AND SG.NAME_TX  = 'LA'


SELECT * FROM dbo.PROCESS_DEFINITION
WHERE PROCESS_TYPE_CD = 'PREDMDLPRC'


SELECT * FROM dbo.WORK_ITEM
WHERE RELATE_ID = '33020752' 
AND CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE)
 ID IN (30843828 )

SELECT * FROM dbo.PROCESS_LOG
WHERE ID IN (32959760)

SELECT STATUS_CD, * FROM dbo.PROCESS_DEFINITION
WHERE ID IN (10867)


SELECT * FROM dbo.PROCESS_LOG
WHERE PROCESS_DEFINITION_ID = '10867'
AND CAST(UPDATE_DT AS DATE) >= CAST(GETDATE()-21 AS DATE)

SELECT * FROM dbo.PROCESS_LOG_ITEM
WHERE PROCESS_LOG_ID = '33020752' AND RELATE_TYPE_CD LIKE --'%notice'

 '%WorkItem%'


SELECT * FROM dbo.WORK_ITEM
WHERE ID IN (SELECT * FROM #tmp)
AND CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE)



UPDATE  UniTrac..WORK_ITEM
SET     STATUS_CD = 'Withdrawn', UPDATE_DT = GETDATE(), UPDATE_USER_TX = 'INC0230367'
--SELECT * FROM dbo.WORK_ITEM
WHERE   ID IN (30843828  )
        AND WORKFLOW_DEFINITION_ID = 9
        AND ACTIVE_IN = 'Y'