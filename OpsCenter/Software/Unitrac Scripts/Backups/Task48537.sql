$/Unitrac/SourceCode/Unitrac_Dev_Stable/3 Upper Business Level/LDH/LenderSetup/LenderDetailSetup
thats a utility and it has an xml called LenderDetailSetup.xml
just need to update the xml and run the utility. Its a command line utility

************
The trading partner setup for 820 seems incomplete for Farmers.

Its missing an entry in the DELIVERY_INFO_DELIVER_TO_TP_RELATE.

select * from trading_partner 
where  name_tx like '%ALLSTATE%'


insert into TRADING_PARTNER (external_id_tx, name_tx, type_cd, status_cd, receive_from_tp_id,deliver_to_tp_id,UPDATE_DT, UPDATE_USER_TX, purge_dt, LOCK_ID, ACTIVE_IN, transaction_xslt, deliver_to_tp_in, create_dt)
select 'M006935886', 'M-ALLSTATE',type_cd, status_cd, receive_from_tp_id,'2046',GETDATE(), UPDATE_USER_TX, purge_dt, LOCK_ID, ACTIVE_IN, transaction_xslt, deliver_to_tp_in, GETDATE()
from trading_partner
where id in (2045)


INSERT INTO DELIVERY_INFO_DELIVER_TO_TP_RELATE (DELIVERY_INFO_ID, DELIVER_TO_TP_ID, CREATE_dT, UPDATE_DT, UPDATE_USER_TX, LOCK_ID)
SELECT 14270, DELIVER_TO_TP_ID, CREATE_dT, GETDATE(), 'MsgSrvr', LOCK_ID
--select *
FROM DELIVERY_INFO_DELIVER_TO_TP_RELATE
WHERE DELIVERY_INFO_ID IN (3801)



***********************
1) 820 trading partner creation
******************************


--1) Created Delivery Info
INSERT INTO DELIVERY_INFO (TRADING_PARTNER_ID,DOCUMENT_TYPE_CD,DELIVERY_TYPE_CD,FILESIZE_VARIANCE_NO,DELIVERY_FREQ_CD,PREPROCESS_TYPE_CD,OVERDUE_DELIVERY_THRESHOLD_NO,FILE_FORMAT_TYPE_CD,BRANCH_ID,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID,ACTIVE_IN)
SELECT 3395,DOCUMENT_TYPE_CD,DELIVERY_TYPE_CD,FILESIZE_VARIANCE_NO,DELIVERY_FREQ_CD,PREPROCESS_TYPE_CD,OVERDUE_DELIVERY_THRESHOLD_NO,FILE_FORMAT_TYPE_CD,BRANCH_ID,getdate(),UPDATE_USER_TX,PURGE_DT,LOCK_ID,ACTIVE_IN
FROM [utstage01].Unitrac.dbo.DELIVERY_INFO
WHERE trading_partner_id = 3395 

select *
from DELIVERY_INFO
WHERE TRADING_PARTNER_ID IN ()

SELECT *
FROM PREPROCESSING_DETAIL

--2) Created Delivery Info Group
SELECT *
FROM DELIVERY_INFO_GROUP
WHERE NAME_TX LIKE '%820%'

INSERT INTO DELIVERY_INFO_GROUP (DELIVERY_INFO_ID,NAME_TX,ORDER_NO,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID)
SELECT 14324,NAME_TX,ORDER_NO,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID
FROM [utstage01].Unitrac.dbo.DELIVERY_INFO_GROUP
WHERE DELIVERY_INFO_ID IN (14340)



SELECT*
FROM DELIVERY_INFO_GROUP
WHERE DELIVERY_INFO_ID IN (14323,2361,
14324)

SELECT *
FROM DELIVERY_DETAIL
WHERE DELIVERY_INFO_GROUP_ID IN (3630)

--3) Create Delivery Details
INSERT INTO DELIVERY_DETAIL(DELIVERY_INFO_GROUP_ID,DELIVERY_CODE_TX,VALUE_TX,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID)
SELECT 16729,DELIVERY_CODE_TX,VALUE_TX,GETDATE(),UPDATE_USER_TX,PURGE_DT,LOCK_ID
FROM [utstage01].Unitrac.dbo.DELIVERY_DETAIL
WHERE DELIVERY_INFO_GROUP_ID = 16755

SELECT *
FROM DELIVERY_DETAIL
WHERE DELIVERY_INFO_GROUP_ID IN (16728,3630,
16729) and DELIVERY_CODE_TX = 'InputFolder'

UPDATE DELIVERY_DETAIL SET VALUE_TX = 'EscrowPay820_M-Farmers.*.xml'
WHERE DELIVERY_CODE_TX = 'InputFileName' AND DELIVERY_INFO_GROUP_ID = 16526

UPDATE DELIVERY_DETAIL SET VALUE_TX = 'EscrowPay820_M-Farmers.*.xml'
WHERE DELIVERY_CODE_TX = 'OutputFileName' AND DELIVERY_INFO_GROUP_ID = 16526

UPDATE DELIVERY_DETAIL SET VALUE_TX = 'C:\LenderFiles\SoftcareOutput\Output\820-M-Farmers'
WHERE DELIVERY_CODE_TX = 'OutputFolder' AND DELIVERY_INFO_GROUP_ID = 16526





--4) Add Related Data

SELECT *
FROM RELATED_DATA
WHERE DEF_ID IN (96) AND VALUE_TX = 'ESCROWPAYRF'

SELECT *
FROM RELATED_DATA
WHERE DEF_ID IN (136)

SELECT *
FROM DELIVERY_INFO
WHERE TRADING_PARTNER_ID IN (3395) AND DELIVERY_FREQ_CD = 'WEEK'

select * from DELIVERY_INFO_GROUP 
where DELIVERY_INFO_ID in (14323,
14324) 
order by DELIVERY_INFO_ID DESC

select * from delivery_detail
where DELIVERY_INFO_GROUP_ID = 16728


INSERT INTO RELATED_DATA (DEF_ID, RELATE_ID, VALUE_TX, COMMENT_TX, CREATE_DT, UPDATE_DT, UPDATE_USER_TX, LOCK_ID)
VALUES (96,14324,'ESCROWPAYRF','UniTracDeliveryType',GETDATE(),GETDATE(),'MsgSrvr',1)

INSERT INTO RELATED_DATA (DEF_ID, RELATE_ID, VALUE_TX, CREATE_DT, UPDATE_DT, UPDATE_USER_TX, LOCK_ID)
VALUES(136,3395,'true',getdate(),getdate(),'admin',1)


SELECT di.*
FROM TRADING_PARTNER TP
INNER JOIN DELIVERY_INFO DI ON TP.ID = DI.TRADING_PARTNER_ID
INNER JOIN DELIVERY_INFO_GROUP DIG ON DI.ID = DIG.DELIVERY_INFO_ID
INNER JOIN DELIVERY_DETAIL DD ON DIG.ID = DD.DELIVERY_INFO_GROUP_ID
WHERE TP.TYPE_CD = 'EDI_TP' AND DIG.ID IN (16728,
16729)




/*
Sara was testing the generation of 820 files on a Farmers trading partner in staging
Farmers not being setup
I was curious, how do we setup a new EDI TP to generate 820s?
$/Unitrac/SourceCode/Unitrac_Dev_Stable/3 Upper Business Level/LDH/LenderSetup/LenderDetailSetup
thats a utility and it has an xml called LenderDetailSetup.xml
just need to update the xml and run the utility. Its a command line utility
also if u look at the history of the xml u will see different versions of it
u should see one for farmers also
I thought it was executed in Prod already for farmers
for the history, u will need to check in Unitrac_2.1
make sure to change the paths, otherwise it would go into prod paths
it will create all the entries in the DB based on the xml data
xml u have to manually update
*/


DECLARE @LenderCode VARCHAR(20) = '1815'

-- Creating TradingPartner entry for LenderCode = 1815
IF NOT EXISTS (SELECT * FROM TRADING_PARTNER tp WHERE tp.TYPE_CD = 'LFP_TP' AND tp.EXTERNAL_ID_TX = @LenderCode) 
BEGIN 
	INSERT INTO 
	TRADING_PARTNER 
	( EXTERNAL_ID_TX 
	,NAME_TX 
	,TYPE_CD 
	,STATUS_CD 
	,RECEIVE_FROM_TP_ID 
	,DELIVER_TO_TP_ID 
	,UPDATE_DT 
	,UPDATE_USER_TX 
	,PURGE_DT 
	,LOCK_ID 
	,ACTIVE_IN 
	,TRANSACTION_XSLT 
	,DELIVER_TO_TP_IN 
	,CREATE_DT 
	) 
	VALUES 
	( 
	@LenderCode
	,N'Security National Bank' 
	,N'LFP_TP' 
	,N'ACTIVE' 
	,0 
	,0 
	,GETDATE() 
	,N'Bug32136' 
	,NULL 
	,1 
	,'Y' 
	,NULL 
	,'N' 
	,GETDATE() 
	); 
END 

-- Related Data entry 
IF EXISTS (SELECT * FROM TRADING_PARTNER tp WHERE tp.TYPE_CD = 'LFP_TP' AND tp.EXTERNAL_ID_TX = @LenderCode) 
BEGIN 
	DECLARE @TP_ID bigint
	SELECT @TP_ID=tp.ID FROM TRADING_PARTNER tp WHERE tp.TYPE_CD = 'LFP_TP' AND tp.EXTERNAL_ID_TX = @LenderCode
	INSERT INTO RELATED_DATA (DEF_ID,RELATE_ID,VALUE_TX,CREATE_DT,UPDATE_DT,UPDATE_USER_TX,LOCK_ID)
	VALUES(91,@TP_ID,'Unitrac',GETDATE(),GETDATE(),N'Bug32136',1)
END
GO











************************************************************************
2) Carrier TP Nat Gen 28%
*************************************************************************

-- Creating TradingPartner entry for LenderCode = 1815
IF NOT EXISTS (SELECT * FROM TRADING_PARTNER tp WHERE tp.TYPE_CD = 'LFP_TP' AND tp.EXTERNAL_ID_TX = @LenderCode) 
BEGIN 
	INSERT INTO 
	TRADING_PARTNER 
	( EXTERNAL_ID_TX 
	,NAME_TX 
	,TYPE_CD 
	,STATUS_CD 
	,RECEIVE_FROM_TP_ID 
	,DELIVER_TO_TP_ID 
	,UPDATE_DT 
	,UPDATE_USER_TX 
	,PURGE_DT 
	,LOCK_ID 
	,ACTIVE_IN 
	,TRANSACTION_XSLT 
	,DELIVER_TO_TP_IN 
	,CREATE_DT 
	) 
	VALUES 
	( 
	'NG-28%'
	,N'National General 28 pct.' 
	,N'CARRIER_TP' 
	,N'ACTIVE' 
	,0 
	,2046
	,GETDATE() 
	,N'MsgSrvr' 
	,NULL 
	,1 
	,'Y' 
	,'' 
	,'N' 
	,GETDATE() 
	); 
END 

IF NOT EXISTS (SELECT * FROM TRADING_PARTNER tp WHERE tp.TYPE_CD = 'LFP_TP' AND tp.EXTERNAL_ID_TX = @LenderCode) 
BEGIN 
	INSERT INTO 
	TRADING_PARTNER 
	(EXTERNAL_ID_TX,NAME_TX,TYPE_CD,STATUS_CD,RECEIVE_FROM_TP_ID,DELIVER_TO_TP_ID,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID,ACTIVE_IN,TRANSACTION_XSLT,DELIVER_TO_TP_IN,CREATE_DT) 
	VALUES 
	('NG-28%',N'National General 28 pct.',N'CARRIER_TP',N'ACTIVE',0,2046,GETDATE(),N'MsgSrvr',NULL,1,'Y','','N',GETDATE()); 
END 



SELECT *
FROM TRADING_PARTNER
WHERE EXTERNAL_ID_TX IN ('NG-30%','NG-28%')


INSERT INTO DELIVERY_INFO (TRADING_PARTNER_ID,DOCUMENT_TYPE_CD,DELIVERY_TYPE_CD,FILESIZE_VARIANCE_NO,DELIVERY_FREQ_CD,PREPROCESS_TYPE_CD,OVERDUE_DELIVERY_THRESHOLD_NO,FILE_FORMAT_TYPE_CD,BRANCH_ID,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID,ACTIVE_IN)
SELECT 3391,DOCUMENT_TYPE_CD,DELIVERY_TYPE_CD,FILESIZE_VARIANCE_NO,DELIVERY_FREQ_CD,PREPROCESS_TYPE_CD,OVERDUE_DELIVERY_THRESHOLD_NO,FILE_FORMAT_TYPE_CD,BRANCH_ID,getdate(),UPDATE_USER_TX,PURGE_DT,LOCK_ID,ACTIVE_IN
FROM DELIVERY_INFO
WHERE ID IN (3801)

select *
from DELIVERY_INFO
WHERE TRADING_PARTNER_ID IN (3214,3391)

INSERT INTO DELIVERY_INFO_GROUP (DELIVERY_INFO_ID,NAME_TX,ORDER_NO,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID)
SELECT 14326,'National General 28 pct..*.dat',ORDER_NO,GETDATE(),UPDATE_USER_TX,PURGE_DT,LOCK_ID
FROM DELIVERY_INFO_GROUP
WHERE ID = 5965

SELECT *
FROM DELIVERY_INFO_GROUP
WHERE DELIVERY_INFO_ID IN (3801,14326,14192)

INSERT INTO DELIVERY_DETAIL(DELIVERY_INFO_GROUP_ID,DELIVERY_CODE_TX,VALUE_TX,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID)
SELECT 16733,DELIVERY_CODE_TX,VALUE_TX,GETDATE(),UPDATE_USER_TX,PURGE_DT,LOCK_ID
FROM DELIVERY_DETAIL
WHERE DELIVERY_INFO_GROUP_ID = 5965


SELECT *
FROM DELIVERY_DETAIL
WHERE DELIVERY_INFO_GROUP_ID IN (5965,16733)

UPDATE DELIVERY_DETAIL SET VALUE_TX = 'National General 28 pct..*.dat'
WHERE DELIVERY_CODE_TX = 'InputFileName' AND DELIVERY_INFO_GROUP_ID = 16733

UPDATE DELIVERY_DETAIL SET VALUE_TX = 'National General 28 pct..*.dat'
WHERE DELIVERY_CODE_TX = 'OutputFileName' AND DELIVERY_INFO_GROUP_ID = 16733


SELECT *
FROM DELIVERY_INFO_DELIVER_TO_TP_RELATE
WHERE DELIVERY_INFO_ID IN (3801,14326)

INSERT INTO DELIVERY_INFO_DELIVER_TO_TP_RELATE (DELIVERY_INFO_ID, DELIVER_TO_TP_ID, CREATE_dT, UPDATE_DT, UPDATE_USER_TX, LOCK_ID)
SELECT 14326, DELIVER_TO_TP_ID, CREATE_dT, GETDATE(), 'MsgSrvr', LOCK_ID
FROM DELIVERY_INFO_DELIVER_TO_TP_RELATE
WHERE DELIVERY_INFO_ID IN (3801)




SELECT *
FROM RELATED_DATA
WHERE DEF_ID IN (96) AND VALUE_TX = 'EOM'

INSERT INTO RELATED_DATA (DEF_ID, RELATE_ID, VALUE_TX, COMMENT_TX, CREATE_DT, UPDATE_DT, UPDATE_USER_TX, LOCK_ID)
VALUES (96,14326,'EOM','UniTracDeliveryType',GETDATE(),GETDATE(),'MsgSrvr',1)


SELECT *
FROM PREPROCESSING_DETAIL
WHERE DELIVERY_INFO_GROUP_ID IN (5965,16733)

INSERT INTO PREPROCESSING_DETAIL (DELIVERY_INFO_GROUP_ID, ORDER_NO, TYPE_CD, VALUE_TX, CODE_CD, UPDATE_DT, UPDATE_USER_TX, LOCK_ID)
SELECT 16733, ORDER_NO, TYPE_CD, VALUE_TX, CODE_CD, GETDATE(), UPDATE_USER_TX, LOCK_ID
FROM PREPROCESSING_DETAIL
WHERE DELIVERY_INFO_GROUP_ID IN (5965)

SELECT *
FROM PPDATTRIBUTE
WHERE PREPROCESSING_DETAIL_ID IN (7981,19399)

INSERT INTO PPDATTRIBUTE (PREPROCESSING_DETAIL_ID,VALUE_TX, CODE_CD, CREATE_DT,UPDATE_DT, UPDATE_USER_TX, LOCK_ID, VALUE_XML, COMMON_STYLESHEET_ID)
SELECT 19399,VALUE_TX, CODE_CD, GETDATE(),GETDATE(), UPDATE_USER_TX, LOCK_ID, VALUE_XML, COMMON_STYLESHEET_ID
FROM PPDATTRIBUTE
WHERE PREPROCESSING_DETAIL_ID IN (7981)



SELECT *
FROM RELATED_DATA
WHERE DEF_ID IN (136)



SELECT DIG.ID,*
FROM TRADING_PARTNER TP
INNER JOIN DELIVERY_INFO DI ON TP.ID = DI.TRADING_PARTNER_ID
INNER JOIN DELIVERY_INFO_GROUP DIG ON DI.ID = DIG.DELIVERY_INFO_ID
INNER JOIN DELIVERY_DETAIL DD ON DIG.ID = DD.DELIVERY_INFO_GROUP_ID
WHERE TP.TYPE_CD = 'CARRIER_TP' AND EXTERNAL_ID_TX IN ('NG-30%','NG-28%')



SELECT *
FROM DELIVERY_INFO_GROUP
WHERE DELIVERY_INFO_ID IN (14177)

SELECT *
FROM RELATED_DATA_DEF
WHERE ID IN (96,136)




****************************************************
3) -------------EDI TP CREATION-------------------
******************************************************

SELECT DI.ID,TP.EXTERNAL_ID_TX, TP.NAME_TX, DIG.NAME_TX,VALUE_TX,DD.*
FROM TRADING_PARTNER TP
INNER JOIN DELIVERY_INFO DI ON TP.ID = DI.TRADING_PARTNER_ID
INNER JOIN DELIVERY_INFO_GROUP DIG ON DI.ID = DIG.DELIVERY_INFO_ID 
INNER JOIN DELIVERY_DETAIL DD ON DIG.ID = DD.DELIVERY_INFO_GROUP_ID
WHERE TP.TYPE_CD = 'EDI_TP' --AND DELIVERY_CODE_TX IN ('InputFileName','OutputFileName') 
AND TP.NAME_TX LIKE 'M-%'--AND DI.ID = 3483
--AND TP.NAME_TX = 'M-CHUBB'
ORDER BY TP.NAME_TX

SELECT *
FROM TRADING_PARTNER TP
WHERE TP.TYPE_CD = 'EDI_TP' AND NAME_TX IN ('M-CHUBB','M-HOMESITE')
ORDER BY NAME_TX

INSERT INTO TRADING_PARTNER (EXTERNAL_ID_TX,NAME_TX,TYPE_CD,STATUS_CD,RECEIVE_FROM_TP_ID,DELIVER_TO_TP_ID,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID,ACTIVE_IN,TRANSACTION_XSLT,DELIVER_TO_TP_IN,CREATE_DT) 
VALUES ('AMFMHST',N'M-HOMESITE',N'EDI_TP',N'ACTIVE',0,2046,GETDATE(),N'MsgSrvr',NULL,1,'Y','','N',GETDATE())

INSERT INTO DELIVERY_INFO (TRADING_PARTNER_ID,DOCUMENT_TYPE_CD,DELIVERY_TYPE_CD,FILESIZE_VARIANCE_NO,DELIVERY_FREQ_CD,PREPROCESS_TYPE_CD,OVERDUE_DELIVERY_THRESHOLD_NO,FILE_FORMAT_TYPE_CD,BRANCH_ID,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID,ACTIVE_IN)
SELECT 3390,DOCUMENT_TYPE_CD,DELIVERY_TYPE_CD,FILESIZE_VARIANCE_NO,DELIVERY_FREQ_CD,PREPROCESS_TYPE_CD,OVERDUE_DELIVERY_THRESHOLD_NO,FILE_FORMAT_TYPE_CD,BRANCH_ID,getdate(),UPDATE_USER_TX,PURGE_DT,LOCK_ID,ACTIVE_IN
FROM DELIVERY_INFO
WHERE ID IN (3483)

select *
from DELIVERY_INFO
WHERE TRADING_PARTNER_ID IN (3110,3390)

INSERT INTO DELIVERY_INFO_GROUP (DELIVERY_INFO_ID,NAME_TX,ORDER_NO,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID)
SELECT 14316,'M-HOMESITE.*.xml',ORDER_NO,GETDATE(),UPDATE_USER_TX,PURGE_DT,LOCK_ID
FROM DELIVERY_INFO_GROUP
WHERE ID = 5413

SELECT *
FROM DELIVERY_INFO_GROUP
WHERE DELIVERY_INFO_ID IN (14316,3483)

INSERT INTO DELIVERY_DETAIL(DELIVERY_INFO_GROUP_ID,DELIVERY_CODE_TX,VALUE_TX,UPDATE_DT,UPDATE_USER_TX,PURGE_DT,LOCK_ID)
SELECT 16719,DELIVERY_CODE_TX,VALUE_TX,GETDATE(),UPDATE_USER_TX,PURGE_DT,LOCK_ID
FROM DELIVERY_DETAIL
WHERE DELIVERY_INFO_GROUP_ID = 5413

SELECT *
FROM DELIVERY_DETAIL
WHERE DELIVERY_INFO_GROUP_ID IN (5413,16719)

UPDATE DELIVERY_DETAIL SET VALUE_TX = 'M-HOMESITE.*.xml'
WHERE DELIVERY_CODE_TX = 'InputFileName' AND DELIVERY_INFO_GROUP_ID = 16719

UPDATE DELIVERY_DETAIL SET VALUE_TX = 'M-HOMESITE.*.xml'
WHERE DELIVERY_CODE_TX = 'OutputFileName' AND DELIVERY_INFO_GROUP_ID = 16719

INSERT INTO RELATED_DATA (DEF_ID, RELATE_ID, VALUE_TX, COMMENT_TX, CREATE_DT, UPDATE_DT, UPDATE_USER_TX, LOCK_ID)
VALUES (96,3390,'IMPORT','UniTracDeliveryType',GETDATE(),GETDATE(),'MsgSrvr',1)


SELECT *
FROM RELATED_DATA
WHERE DEF_ID IN (96) and relate_id IN (3110,3263,3361,3020,3390,3021)

SELECT *
FROM PREPROCESSING_DETAIL
WHERE DELIVERY_INFO_GROUP_ID IN (5413,6128,16590,16617,4974,16719,3801)



SELECT DIG.ID, DI.ID,TP.EXTERNAL_ID_TX, TP.NAME_TX, DIG.NAME_TX,VALUE_TX,DD.*
FROM TRADING_PARTNER TP
INNER JOIN DELIVERY_INFO DI ON TP.ID = DI.TRADING_PARTNER_ID
INNER JOIN DELIVERY_INFO_GROUP DIG ON DI.ID = DIG.DELIVERY_INFO_ID 
INNER JOIN DELIVERY_DETAIL DD ON DIG.ID = DD.DELIVERY_INFO_GROUP_ID
WHERE TP.TYPE_CD = 'EDI_TP' --AND DELIVERY_CODE_TX IN ('InputFileName','OutputFileName') 
AND TP.NAME_TX LIKE 'M-%'AND DIG.ID = 5413
--AND TP.NAME_TX = 'M-CHUBB'
ORDER BY TP.NAME_TX 


--16728


INSERT INTO PREPROCESSING_DETAIL (DELIVERY_INFO_GROUP_ID, ORDER_NO, TYPE_CD, VALUE_TX, CODE_CD, UPDATE_DT, UPDATE_USER_TX, LOCK_ID)
SELECT 16728, ORDER_NO, TYPE_CD, VALUE_TX, CODE_CD, GETDATE(), UPDATE_USER_TX, LOCK_ID
FROM PREPROCESSING_DETAIL
WHERE DELIVERY_INFO_GROUP_ID IN (5413)


select top 1 * FROM PREPROCESSING_DETAIL
WHERE DELIVERY_INFO_GROUP_ID IN (16728) 

SELECT *
FROM PPDATTRIBUTE
WHERE PREPROCESSING_DETAIL_ID IN (5184,6388,8439,19116,19362, 19378)

--19378

INSERT INTO PPDATTRIBUTE (PREPROCESSING_DETAIL_ID,VALUE_TX, CODE_CD, CREATE_DT,UPDATE_DT, UPDATE_USER_TX, LOCK_ID, VALUE_XML, COMMON_STYLESHEET_ID)
SELECT 19378,VALUE_TX, CODE_CD, GETDATE(),GETDATE(), UPDATE_USER_TX, LOCK_ID, VALUE_XML, COMMON_STYLESHEET_ID
FROM PPDATTRIBUTE
WHERE PREPROCESSING_DETAIL_ID IN (5184)

SELECT *
FROM DELIVERY_INFO_DELIVER_TO_TP_RELATE
WHERE DELIVERY_INFO_ID IN (3483,3906,14215,14234,14316)

INSERT INTO DELIVERY_INFO_DELIVER_TO_TP_RELATE (DELIVERY_INFO_ID, DELIVER_TO_TP_ID, CREATE_dT, UPDATE_DT, UPDATE_USER_TX, LOCK_ID)
SELECT 14323, DELIVER_TO_TP_ID, CREATE_dT, GETDATE(), 'MsgSrvr', LOCK_ID
FROM DELIVERY_INFO_DELIVER_TO_TP_RELATE
WHERE DELIVERY_INFO_ID IN (14316)

select *
FROM DELIVERY_INFO_DELIVER_TO_TP_RELATE
WHERE DELIVERY_INFO_ID IN (14323)

----------------------------------------------

select * from process_definition 
where  NAME_TX like '%edi%' and active_in = 'Y' and onhold_in = 'N'
and process_type_cd not in ('CyclePRC', 'Billing', 'Escrow')
