----BSS Check In
SELECT  TP.EXTERNAL_ID_TX ,
        TP.NAME_TX ,
        TP.TYPE_CD ,
        M.ID ,
        M.CREATE_DT ,
        M.UPDATE_DT ,
        M.UPDATE_USER_TX
FROM    message M
        JOIN TRADING_PARTNER TP ON M.RECEIVED_FROM_TRADING_PARTNER_ID = TP.ID
WHERE   M.PROCESSED_IN = 'N'
        AND M.RECEIVED_STATUS_CD = 'RCVD'
        AND M.MESSAGE_DIRECTION_CD = 'I'
        AND TP.TYPE_CD = 'BSS_TP'
ORDER BY TP.TYPE_CD DESC ,
        M.CREATE_DT ASC 
--5191643


----BSS Check Out
SELECT 
M.SENT_STATUS_CD, M.RECEIVED_STATUS_CD,
     TP.EXTERNAL_ID_TX, 
     TP.NAME_TX, 
     TP.TYPE_CD,
     M.ID, 
     M.CREATE_DT,
	 M.UPDATE_DT,
     M.UPDATE_USER_TX 
FROM message M 
JOIN TRADING_PARTNER TP 
     ON M.RECEIVED_FROM_TRADING_PARTNER_ID = TP.ID 
WHERE M.PROCESSED_IN = 'N' 
AND M.RECEIVED_STATUS_CD = 'RCVD' 
AND M.MESSAGE_DIRECTION_CD = 'O'
AND TP.TYPE_CD = 'BSS_TP' 
ORDER BY TP.TYPE_CD DESC,M.CREATE_DT ASC 
--4789692

SELECT * FROM dbo.MESSAGE
WHERE PROCESSED_IN = 'N' AND 
CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE)
AND UPDATE_USER_TX= 'MsgSrvr'
ORDER BY ID ASC
--4993982

up
SELECT * FROM dbo.WORK_ITEM
WHERE RELATE_ID IN (4993930)
--(SELECT ID FROM dbo.MESSAGE WHERE PROCESSED_IN = 'N' AND CAST(UPDATE_DT AS DATE) = CAST(GETDATE() AS DATE) AND UPDATE_USER_TX= 'MsgSrvr') 
AND WORKFLOW_DEFINITION_ID = '1'



UPDATE dbo.MESSAGE
SET RECEIVED_STATUS_CD = 'HOLD', PROCESSED_IN = 'Y', LOCK_ID = LOCK_ID+1
WHERE ID IN (5191585,
5191586)
